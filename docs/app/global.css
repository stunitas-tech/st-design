@import "tailwindcss";
@import "fumadocs-ui/css/neutral.css";
@import "fumadocs-ui/css/preset.css";

:root {
    --color-fd-background: #ffffff;
    --color-fd-foreground: #0f172a;
    --color-fd-muted: #f1f5f9;
    --color-fd-muted-foreground: #64748b;
    --color-fd-card: #ffffff;
    --color-fd-card-foreground: #0f172a;
    --color-fd-popover: #ffffff;
    --color-fd-popover-foreground: #0f172a;
    --color-fd-border: #e2e8f0;
    --color-fd-input: #e2e8f0;
    --color-fd-primary: #0f172a;
    --color-fd-primary-foreground: #f8fafc;
    --color-fd-secondary: #f1f5f9;
    --color-fd-secondary-foreground: #0f172a;
    --color-fd-accent: #f1f5f9;
    --color-fd-accent-foreground: #0f172a;
    --color-fd-destructive: #ff0000;
    --color-fd-destructive-foreground: #f8fafc;
    --color-fd-ring: #94a3b8;

    /* Lift Dialog, Sheet z-index for documentation */
    --layer-index: 100;
}

.dark {
    --color-fd-background: #121212;
    --color-fd-foreground: #ebebeb;
    --color-fd-muted: #212121;
    --color-fd-muted-foreground: #9b9b9b;
    --color-fd-popover: #191919;
    --color-fd-popover-foreground: #e0e0e0;
    --color-fd-card: #1a1a1a;
    --color-fd-card-foreground: #fafafa;
    --color-fd-border: #2e2e2e;
    --color-fd-primary: #fafafa;
    --color-fd-primary-foreground: #171717;
    --color-fd-secondary: #212121;
    --color-fd-secondary-foreground: #fafafa;
    --color-fd-accent: #2b2b2b;
    --color-fd-accent-foreground: #e6e6e6;
    --color-fd-ring: #262626;
}

#nd-sidebar {
    width: auto !important;
}

#nd-notebook-layout {
    --fd-sidebar-col: 268px !important;
    /* 1. 행(Rows) 설정: 헤더, 팝업, 메인 영역 순서 */
    grid-template-rows: auto auto 1fr !important;

    /* 2. 열(Columns) 설정: 5분할 구조 */
    grid-template-columns:
        minmax(16px, 1fr) /* 왼쪽 여백 */
        var(--fd-sidebar-col) /* 사이드바 */
        minmax(
            0,
            calc(
                var(--fd-layout-width, 97rem) - var(--fd-sidebar-col) -
                    var(--fd-toc-width)
            )
        )
        /* 메인 */
        var(--fd-toc-width) /* TOC(목차) */
        minmax(16px, 1fr) !important; /* 오른쪽 여백 */

    /* 3. 영역 이름(Areas) 설정: 가시적으로 매칭 */
    grid-template-areas:
        "header      header      header      header      header"
        "toc-popover toc-popover toc-popover toc-popover toc-popover"
        "sidebar     sidebar     main        toc         ." !important;
}

@media (max-width: 1279px) {
    #nd-notebook-layout {
        /* 2. 열(Columns) 설정: 5분할 구조 */
        grid-template-columns:
            minmax(16px, 1fr) /* 왼쪽 여백 */
            var(--fd-sidebar-col) /* 사이드바 */
            minmax(
                0,
                calc(
                    var(--fd-layout-width, 97rem) - var(--fd-sidebar-col) -
                        var(--fd-toc-width)
                )
            )
            /* 메인 */
            var(--fd-toc-width) /* TOC(목차) */
            16px !important; /* 오른쪽 여백 */
    }
    #nd-notebook-layout:has(#nd-sidebar[data-collapsed="true"]) {
        --fd-sidebar-col: 0 !important;
        --fd-toc-width: 0 !important;
    }
}

@media (max-width: 768px) {
    #nd-notebook-layout {
        --fd-sidebar-col: 0 !important;
    }
}
